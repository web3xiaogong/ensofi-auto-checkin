# 🎯 Ensofi 自动签到脚本

> 一个功能完整的 Ensofi 平台自动签到工具，支持多账号、代理轮换、智能调度等高级功能。

## ✨ 主要特性

- 🔐 **多钱包支持**：支持 Phantom 钱包类型，自动处理 Solana 签名
- 🌐 **代理支持**：支持 HTTP 代理，可配置账号与代理的绑定关系
- ⚡ **多种运行模式**：顺序模式、并发模式、统一时间调度模式
- 📊 **智能日志**：带图标的清晰日志显示，实时显示签到状态和积分
- 💾 **状态持久化**：自动保存账号状态，支持断点续签
- 🎲 **防检测机制**：随机延迟、IP绑定等防女巫策略

## 📋 环境要求

- Python 3.8+
- Windows/Linux/macOS

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置文件

#### 私钥配置 (`private_keys.txt`)
每行一个私钥，支持多种格式：
```
你的私钥1
你的私钥2
你的私钥3
```

#### 代理配置 (`proxies.txt`)
每行一个代理，格式：`http://用户名:密码@IP:端口`
```
http://user1:pass1@proxy1.com:8080
http://user2:pass2@proxy2.com:8080
```

### 3. 运行脚本

```bash
# 并发执行模式（每6小时10秒自动重新执行）
python bot.py

# 自定义并发线程数
python bot.py --max-workers 16
```

## 📖 详细使用说明

### 命令行参数

| 参数 | 说明 | 默认值 |
|------|------|--------|
| `--max-workers` | 并发线程数 | 8 |
| `--wallet-type` | 钱包类型 | Phantom |
| `--keys-file` | 私钥文件路径 | private_keys.txt |
| `--proxies-file` | 代理文件路径 | proxies.txt |

### 运行模式说明

#### ⚡ 并发模式 (Concurrent)
- 多线程同时处理多个账号
- 提高执行效率
- 每6小时10秒自动重新执行
- 适合长期运行和大量账号处理

### 日志说明

脚本运行时会显示带图标的清晰日志：

- 🔑 登录成功
- 📝 签到状态（已签到/签到成功）
- 💰 当前积分
- ✓ 账号处理完成
- ⏳ 等待提示
- ❌ 错误信息
- ⚠️ 警告信息

## 📁 项目结构

```
ensofi签到脚本/
├── README.md              # 项目说明文档
├── requirements.txt       # Python 依赖包
├── bot.py                # 主程序文件
├── private_keys.txt      # 私钥配置文件
└── proxies.txt           # 代理配置文件
```

## ⚙️ 高级配置

### 修改配置参数

在 `bot.py` 文件顶部可以修改以下参数：

```python
ACCOUNT_INTERVAL = 30          # 账号间执行间隔（秒）
REQUEST_TIMEOUT = 12           # 请求超时时间（秒）
MAX_RETRY = 3                  # 最大重试次数
UNIFIED_CHECKIN_DELAY = 21610  # 统一签到延迟时间（秒）
```

### IP 绑定策略

脚本支持两种 IP 绑定模式：

1. **简单绑定模式**（默认）：按文件顺序绑定账号和代理
2. **智能绑定模式**：基于账号地址哈希分配代理

## 🛡️ 安全建议

1. **私钥安全**：确保 `private_keys.txt` 文件安全，不要泄露
2. **代理质量**：使用高质量的代理服务，避免免费代理
3. **运行频率**：不要过于频繁运行，建议每日一次
4. **账号分散**：大量账号建议分批次运行

## 🔧 故障排除

### 常见问题

**Q: 提示 "无法导入 Keypair" 错误**
A: 安装 Solana 相关包：`pip install solana` 或 `pip install solders`

**Q: 代理连接失败**
A: 检查代理格式是否正确，确保代理服务可用

**Q: 签到失败**
A: 检查网络连接，可能是 API 限制或账号问题

**Q: 积分查询失败**
A: 正常现象，不影响签到功能，可能是 API 临时不可用

### 日志分析

- 🔑 登录成功：账号正常，可以继续签到
- 📝 已签到：今日已完成签到，跳过
- 💰 积分显示：显示当前积分数量
- ❌ 错误：检查网络、代理或账号状态

## 📄 许可证

本项目仅供学习和研究使用，请遵守相关平台的使用条款。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

---

**⚠️ 免责声明**：使用本脚本的风险由用户自行承担，开发者不对任何损失负责。